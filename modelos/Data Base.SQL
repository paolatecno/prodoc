--   -------------------------------------------------- 
--   Generated by Enterprise Architect Version 8.0.856
--   Created On : miércoles, 22 junio, 2016 
--   DBMS       : MySql 
--   -------------------------------------------------- 

USE proyecto;

SET FOREIGN_KEY_CHECKS=0;




--  Create Tables 
CREATE TABLE Anfitrion
(
	id INTEGER NOT NULL,
	nombre VARCHAR(50),
	PRIMARY KEY (id)
) ;


CREATE TABLE cliente
(
	id INTEGER NOT NULL,
	nombre VARCHAR(50),
	apellido VARCHAR(50),
	telefono VARCHAR(50),
	email VARCHAR(50),
	PRIMARY KEY (id)
) ;


CREATE TABLE Evento
(
	id INTEGER NOT NULL,
	titulo VARCHAR(50),
	fechainicio DATETIME,
	fechafin DATETIME,
	maximotickets INTEGER,
	idanfitrion INTEGER,
	PRIMARY KEY (id),
	KEY (idanfitrion)
)  COMMENT=' 	1. ';


CREATE TABLE ticket
(
	id INTEGER NOT NULL,
	idevento BLOB,
	iduser INTEGER,
	PRIMARY KEY (id),
	KEY (iduser),
	KEY (iduser)
) ;



SET FOREIGN_KEY_CHECKS=1;


--  Create Foreign Key Constraints 
ALTER TABLE Evento ADD CONSTRAINT FK_Evento_Anfitrion 
	FOREIGN KEY (idanfitrion) REFERENCES Anfitrion (id);

ALTER TABLE ticket ADD CONSTRAINT FK_ticket_cliente 
	FOREIGN KEY (iduser) REFERENCES cliente (id);

ALTER TABLE ticket ADD CONSTRAINT FK_ticket_Evento 
	FOREIGN KEY (iduser) REFERENCES Evento (id);
